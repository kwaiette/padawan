{"version":3,"sources":["meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/main.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/behavior/behavior.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/class_events/beforeFind.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/class_prototype_methods/softRemove.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/class_prototype_methods/softRestore.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/meteor_methods/softRemove.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/meteor_methods/softRestore.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/utils/classSoftRemove.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/utils/classSoftRestore.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/utils/documentSoftRemove.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/utils/documentSoftRestore.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/utils/triggerAfterSoftRemove.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/utils/triggerAfterSoftRestore.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/utils/triggerBeforeSoftRemove.js","meteor://ðŸ’»app/packages/jagi:astronomy-softremove-behavior/lib/utils/triggerBeforeSoftRestore.js"],"names":["module","watch","require","module1","_bind","v","_forEach","_zipObject","Module","Behavior","Event","beforeFind","softRemove","softRestore","meteorSoftRemove","meteorSoftRestore","hasMeteorMethod","modules","storage","utils","create","name","options","removedFieldName","hasRemovedAtField","removedAtFieldName","createClassDefinition","behavior","definition","fields","events","helpers","type","Boolean","Date","optional","apply","Class","Collection","getCollection","connection","_connection","meteorMethods","meteorMethod","methodName","methods","extend","e","doc","currentTarget","constructor","selector","$ne","exportDefault","Match","documentSoftRemove","isRemote","callMeteorMethod","args","callback","arguments","length","test","Function","simulation","methodArgs","className","getName","_id","result","err","trusted","undefined","documentSoftRestore","classSoftRemove","classSoftRestore","AstroClass","throwIfSelectorIsNotId","classRemove","Meteor","isServer","get","docs","find","forEach","classRestore","disableEvents","_defaults","triggerBeforeSoftRemove","triggerAfterSoftRemove","getModifier","isNew","isSecured","Error","modifier","$set","getBehavior","_collection","update","triggerBeforeSoftRestore","triggerAfterSoftRestore","$unset","dispatchEvent","propagates","cancelable","eventName"],"mappings":"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","file":"/packages/jagi_astronomy-softremove-behavior.js","sourcesContent":["import \"./behavior/behavior.js\";\n","import _bind from \"lodash/bind\";\nimport _forEach from \"lodash/forEach\";\nimport _zipObject from \"lodash/zipObject\";\nimport { Module, Behavior, Event } from \"meteor/jagi:astronomy\";\nimport beforeFind from \"../class_events/beforeFind\";\nimport softRemove from \"../class_prototype_methods/softRemove\";\nimport softRestore from \"../class_prototype_methods/softRestore\";\nimport meteorSoftRemove from \"../meteor_methods/softRemove\";\nimport meteorSoftRestore from \"../meteor_methods/softRestore\";\nconst hasMeteorMethod = Module.modules.storage.utils.hasMeteorMethod;\n\nBehavior.create({\n  name: \"softremove\",\n  options: {\n    removedFieldName: \"removed\",\n    hasRemovedAtField: true,\n    removedAtFieldName: \"removedAt\"\n  },\n  createClassDefinition() {\n    const behavior = this;\n\n    const definition = {\n      fields: {},\n      events: {\n        beforeFind: _bind(beforeFind, behavior)\n      },\n      // Fix for Astronomy 2.2.4 where I've changed name of the \"methods\" module\n      // to \"helpers\" module. I shouldn't do that even when changing property\n      // name in schema.\n      helpers: {\n        softRemove,\n        softRestore\n      }\n    };\n\n    // Add a field storing a removal flag.\n    definition.fields[behavior.options.removedFieldName] = {\n      type: Boolean,\n      default: false\n    };\n\n    if (behavior.options.hasRemovedAtField) {\n      // Add a field storing a removal date.\n      definition.fields[behavior.options.removedAtFieldName] = {\n        type: Date,\n        optional: true\n      };\n    }\n\n    return definition;\n  },\n  apply(Class) {\n    const Collection = Class.getCollection();\n\n    // If it's a remote collection then we register methods on the connection\n    // object of the collection.\n    let connection = Collection._connection;\n    if (connection) {\n      // Prepare meteor methods to be added.\n      let meteorMethods = {\n        \"/Astronomy/softRemove\": meteorSoftRemove,\n        \"/Astronomy/softRestore\": meteorSoftRestore\n      };\n      _forEach(meteorMethods, (meteorMethod, methodName) => {\n        if (!hasMeteorMethod(connection, methodName)) {\n          // Add meteor method.\n          connection.methods(_zipObject([methodName], [meteorMethod]));\n        }\n      });\n    }\n\n    Class.extend(this.createClassDefinition(), [\n      \"fields\",\n      \"events\",\n      \"helpers\",\n      \"methods\"\n    ]);\n  }\n});\n","const beforeFind = function(e) {\n  const doc = e.currentTarget;\n  const Class = doc.constructor;\n  const selector = e.selector;\n\n  selector[this.options.removedFieldName] = { $ne: true };\n};\n\nexport default beforeFind;\n","import { Match } from \"meteor/check\";\nimport { Module } from \"meteor/jagi:astronomy\";\nimport documentSoftRemove from \"../utils/documentSoftRemove\";\nconst isRemote = Module.modules.storage.utils.isRemote;\nconst callMeteorMethod = Module.modules.storage.utils.callMeteorMethod;\n\nconst softRemove = function(args = {}, callback) {\n  let doc = this;\n  let Class = doc.constructor;\n\n  // If the first argument is callback function then reassign values.\n  if (arguments.length === 1 && Match.test(args, Function)) {\n    callback = args;\n    args = {};\n  }\n  // Get variables from the first argument.\n  let { simulation = true } = args;\n\n  // If we are dealing with a remote collection and we are not on the server.\n  if (isRemote(Class)) {\n    // Prepare meteor method name to be called.\n    let methodName = \"/Astronomy/softRemove\";\n    // Prepare arguments for the meteor method.\n    let methodArgs = {\n      className: Class.getName(),\n      selector: {\n        _id: doc._id\n      },\n      simulation\n    };\n\n    try {\n      // Run meteor method.\n      let result = callMeteorMethod(Class, methodName, [methodArgs], callback);\n      // Return result of the meteor method call.\n      return result;\n    } catch (err) {\n      // Catch stub exceptions.\n      if (callback) {\n        callback(err);\n        return null;\n      }\n      throw err;\n    }\n  }\n\n  // If we can just remove a document without calling the meteor method. We may\n  // be on the server or the collection may be local.\n  try {\n    // Prepare arguments.\n    let methodArgs = {\n      doc,\n      simulation,\n      trusted: true\n    };\n    let result = documentSoftRemove(methodArgs);\n    if (callback) {\n      callback(undefined, result);\n    }\n    return result;\n  } catch (err) {\n    if (callback) {\n      callback(err);\n      return null;\n    }\n    throw err;\n  }\n};\n\nexport default softRemove;\n","import { Match } from \"meteor/check\";\nimport { Module } from \"meteor/jagi:astronomy\";\nimport documentSoftRestore from \"../utils/documentSoftRestore\";\nconst isRemote = Module.modules.storage.utils.isRemote;\nconst callMeteorMethod = Module.modules.storage.utils.callMeteorMethod;\n\nconst softRestore = function(args = {}, callback) {\n  let doc = this;\n  let Class = doc.constructor;\n\n  // If the first argument is callback function then reassign values.\n  if (arguments.length === 1 && Match.test(args, Function)) {\n    callback = args;\n    args = {};\n  }\n  // Get variables from the first argument.\n  let { simulation = true } = args;\n\n  // If we are dealing with a remote collection and we are not on the server.\n  if (isRemote(Class)) {\n    // Prepare meteor method name to be called.\n    let methodName = \"/Astronomy/softRestore\";\n    // Prepare arguments for the meteor method.\n    let methodArgs = {\n      className: Class.getName(),\n      selector: {\n        _id: doc._id\n      },\n      simulation\n    };\n\n    try {\n      // Run meteor method.\n      let result = callMeteorMethod(Class, methodName, [methodArgs], callback);\n      // Return result of the meteor method call.\n      return result;\n    } catch (err) {\n      // Catch stub exceptions.\n      if (callback) {\n        callback(err);\n        return null;\n      }\n      throw err;\n    }\n  }\n\n  // If we can just remove a document without calling the meteor method. We may\n  // be on the server or the collection may be local.\n  try {\n    // Prepare arguments.\n    let methodArgs = {\n      doc,\n      simulation,\n      trusted: true\n    };\n    let result = documentSoftRestore(methodArgs);\n    if (callback) {\n      callback(undefined, result);\n    }\n    return result;\n  } catch (err) {\n    if (callback) {\n      callback(err);\n      return null;\n    }\n    throw err;\n  }\n};\n\nexport default softRestore;\n","import classSoftRemove from \"../utils/classSoftRemove\";\n\nconst softRemove = function(args) {\n  return classSoftRemove(args);\n};\n\nexport default softRemove;\n","import classSoftRestore from \"../utils/classSoftRestore\";\n\nconst softRestore = function(args) {\n  return classSoftRestore(args);\n};\n\nexport default softRestore;\n","import { Class as AstroClass, Module } from \"meteor/jagi:astronomy\";\nimport documentSoftRemove from \"./documentSoftRemove\";\nconst throwIfSelectorIsNotId =\n  Module.modules.storage.utils.throwIfSelectorIsNotId;\n\nconst classRemove = function(args = {}) {\n  let { className, selector, simulation = true, trusted = false } = args;\n\n  // Stop execution, if we are not on the server, when the \"simulation\" flag is\n  // not set.\n  if (!simulation && !Meteor.isServer) {\n    return;\n  }\n\n  // Throw exception if we are trying to perform an operation on more than one\n  // document at once and it's not trusted call.\n  if (!trusted) {\n    throwIfSelectorIsNotId(selector, \"softRemove\");\n  }\n\n  let Class = AstroClass.get(className);\n  // Get all documents matching selector.\n  let docs = Class.find(selector);\n  // Prepare result of the method execution.\n  let result = 0;\n\n  docs.forEach(doc => {\n    // Update a document.\n    result += documentSoftRemove({\n      doc,\n      simulation,\n      trusted\n    });\n  });\n\n  return result;\n};\n\nexport default classRemove;\n","import { Class as AstroClass, Module } from \"meteor/jagi:astronomy\";\nimport documentSoftRestore from \"./documentSoftRestore\";\nconst throwIfSelectorIsNotId =\n  Module.modules.storage.utils.throwIfSelectorIsNotId;\n\nconst classRestore = function(args = {}) {\n  let { className, selector, simulation = true, trusted = false } = args;\n\n  // Stop execution, if we are not on the server, when the \"simulation\" flag is\n  // not set.\n  if (!simulation && !Meteor.isServer) {\n    return;\n  }\n\n  // Throw exception if we are trying to perform an operation on more than one\n  // document at once and it's not trusted call.\n  if (!trusted) {\n    throwIfSelectorIsNotId(selector, \"softRestore\");\n  }\n\n  let Class = AstroClass.get(className);\n  // Get all documents matching selector.\n  let docs = Class.find(selector, {\n    disableEvents: true\n  });\n  // Prepare result of the method execution.\n  let result = 0;\n\n  docs.forEach(doc => {\n    // Update a document.\n    result += documentSoftRestore({\n      doc,\n      simulation,\n      trusted\n    });\n  });\n\n  return result;\n};\n\nexport default classRestore;\n","import _defaults from \"lodash/defaults\";\nimport triggerBeforeSoftRemove from \"./triggerBeforeSoftRemove\";\nimport triggerAfterSoftRemove from \"./triggerAfterSoftRemove\";\nimport { Module } from \"meteor/jagi:astronomy\";\n\nconst getModifier = Module.modules.storage.utils.getModifier;\n\nconst documentSoftRemove = function(args = {}) {\n  const { doc, simulation = true, trusted = false } = args;\n\n  // Stop execution, if we are not on the server, when the \"simulation\" flag is\n  // not set.\n  if (!simulation && !Meteor.isServer) {\n    return;\n  }\n\n  const Class = doc.constructor;\n  const Collection = Class.getCollection();\n\n  // Remove only when document has the \"_id\" field (it's persisted).\n  if (Class.isNew(doc) || !doc._id) {\n    return 0;\n  }\n\n  // Check if a class is secured.\n  if (Class.isSecured(\"softRemove\") && Meteor.isServer && !trusted) {\n    throw new Meteor.Error(403, \"Soft removing from the client is not allowed\");\n  }\n\n  // Trigger before events.\n  triggerBeforeSoftRemove(doc, trusted);\n\n  // Prepare selector.\n  const selector = {\n    _id: doc._id\n  };\n  // Prepare modifier.\n  const modifier = _defaults(\n    getModifier({\n      doc\n    }),\n    {\n      $set: {}\n    }\n  );\n  const behavior = Class.getBehavior(\"softremove\")[0];\n  modifier.$set[behavior.options.removedFieldName] = true;\n  if (behavior.options.hasRemovedAtField) {\n    modifier.$set[behavior.options.removedAtFieldName] = new Date();\n  }\n  // Remove a document.\n  const result = Collection._collection.update(selector, modifier);\n\n  // Trigger after events.\n  triggerAfterSoftRemove(doc, trusted);\n\n  return result;\n};\n\nexport default documentSoftRemove;\n","import triggerBeforeSoftRestore from \"./triggerBeforeSoftRestore\";\nimport triggerAfterSoftRestore from \"./triggerAfterSoftRestore\";\n\nconst documentSoftRestore = function(args = {}) {\n  const { doc, simulation = true, trusted = false } = args;\n\n  // Stop execution, if we are not on the server, when the \"simulation\" flag is\n  // not set.\n  if (!simulation && !Meteor.isServer) {\n    return;\n  }\n\n  const Class = doc.constructor;\n  const Collection = Class.getCollection();\n\n  // Restore only when document has the \"_id\" field (it's persisted).\n  if (Class.isNew(doc) || !doc._id) {\n    return 0;\n  }\n\n  // Check if a class is secured.\n  if (Class.isSecured(\"softRestore\") && Meteor.isServer && !trusted) {\n    throw new Meteor.Error(\n      403,\n      \"Soft restoring from the client is not allowed\"\n    );\n  }\n\n  // Trigger before events.\n  triggerBeforeSoftRestore(doc, trusted);\n\n  // Prepare selector.\n  const selector = {\n    _id: doc._id\n  };\n  // Prepare modifier.\n  const modifier = {\n    $set: {}\n  };\n  const behavior = Class.getBehavior(\"softremove\")[0];\n  modifier.$set[behavior.options.removedFieldName] = false;\n  if (behavior.options.hasRemovedAtField) {\n    modifier.$unset = {\n      [behavior.options.removedAtFieldName]: \"\"\n    };\n  }\n  // Restore a document.\n  const result = Collection._collection.update(selector, modifier);\n\n  // Trigger after events.\n  triggerAfterSoftRestore(doc, trusted);\n\n  return result;\n};\n\nexport default documentSoftRestore;\n","import { Event } from \"meteor/jagi:astronomy\";\n\nconst triggerAfterSoftRemove = function(doc, trusted) {\n  // Trigger the \"afterSoftRemove\" event handlers.\n  doc.dispatchEvent(\n    new Event(\"afterSoftRemove\", {\n      propagates: true,\n      trusted: trusted\n    })\n  );\n};\n\nexport default triggerAfterSoftRemove;\n","import { Event } from \"meteor/jagi:astronomy\";\n\nconst triggerAfterSoftRestore = function(doc, trusted) {\n  // Trigger the \"afterSoftRestore\" event handlers.\n  doc.dispatchEvent(\n    new Event(\"afterSoftRestore\", {\n      propagates: true,\n      trusted: trusted\n    })\n  );\n};\n\nexport default triggerAfterSoftRestore;\n","import { Event } from \"meteor/jagi:astronomy\";\n\nconst triggerBeforeSoftRemove = function(doc, trusted) {\n  // Trigger the \"beforeSoftRemove\" event handlers.\n  if (\n    !doc.dispatchEvent(\n      new Event(\"beforeSoftRemove\", {\n        cancelable: true,\n        propagates: true,\n        trusted: trusted\n      })\n    )\n  ) {\n    // If an event was prevented, then we stop here.\n    throw new Meteor.Error(\"prevented\", \"Operation prevented\", {\n      eventName: \"beforeSoftRemove\"\n    });\n  }\n};\n\nexport default triggerBeforeSoftRemove;\n","import { Event } from \"meteor/jagi:astronomy\";\n\nconst triggerBeforeSoftRestore = function(doc, trusted) {\n  // Trigger the \"beforeSoftRestore\" event handlers.\n  if (\n    !doc.dispatchEvent(\n      new Event(\"beforeSoftRestore\", {\n        cancelable: true,\n        propagates: true,\n        trusted: trusted\n      })\n    )\n  ) {\n    // If an event was prevented, then we stop here.\n    throw new Meteor.Error(\"prevented\", \"Operation prevented\", {\n      eventName: \"beforeSoftRestore\"\n    });\n  }\n};\n\nexport default triggerBeforeSoftRestore;\n"]}