{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":true}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$4","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$5","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$6","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$7","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$9","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan\\imports\\ui\\pages\\user_segments\\user_segments.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"imports/ui/pages/user_segments/user_segments.js","filename":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan\\imports\\ui\\pages\\user_segments\\user_segments.js","passPerPreset":false,"envName":"development","cwd":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan","root":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan","generatorOpts":{"filename":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan\\imports\\ui\\pages\\user_segments\\user_segments.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/ui/pages/user_segments/user_segments.js"}},"code":"let UserSegment;\nmodule.watch(require(\"/imports/api/user_segments/user_segments.js\"), {\n  UserSegment(v) {\n    UserSegment = v;\n  }\n\n}, 0);\nmodule.watch(require(\"./user_segments.html\"));\nTemplate.user_segments.onCreated(function () {\n  this.autorun(() => {\n    this.subscription = this.subscribe('segmentList', this.userId, {\n      onStop: function () {\n        console.log(\"Segment List subscription stopped! \", arguments, this);\n      },\n      onReady: function () {\n        console.log(\"Segment List subscription ready! \", arguments, this);\n      }\n    });\n    console.log(this.subscription);\n  });\n});\nTemplate.user_segments.helpers({\n  segmentList() {\n    let s = UserSegment.find();\n    return s.fetch();\n  }\n\n});\nTemplate.user_segments.events({\n  'keyup input.edit': _.debounce(function (event, instance) {\n    let segid = $(event.target).closest(\"[data-segid]\").data(\"segid\");\n    console.log(segid, $(event.target).closest(\"[data-segid]\"));\n    let s = UserSegment.findOne({\n      _id: segid\n    });\n    let name = $(\"#seg-name-\" + segid).val();\n    let dscr = $(\"#seg-dscr-\" + segid).val();\n    s.update(name, dscr);\n  }, 2000),\n  'keyup input.new': _.debounce(function (event, instance) {\n    if ($(\"#seg-name-new\").val() !== \"\") {\n      $(\"#new-seg-save\").prop(\"disabled\", false);\n    } else {\n      $(\"#new-seg-save\").prop(\"disabled\", true);\n    }\n  }, 2000),\n\n  'click #new-seg-save'(event, instance) {\n    if ($(\"#seg-name-new\").val() !== \"\") {\n      let name = $(\"#seg-name-new\").val();\n      let dscr = $(\"#seg-dscr-new\").val();\n      Meteor.call('segment.createNewSegment', name, dscr);\n      $(\"#seg-name-new\").val(\"\");\n      $(\"#seg-dscr-new\").val(\"\");\n    }\n  }\n\n});","map":{"version":3,"sources":["imports/ui/pages/user_segments/user_segments.js"],"names":["UserSegment","module","watch","require","v","Template","user_segments","onCreated","autorun","subscription","subscribe","userId","onStop","console","log","arguments","onReady","helpers","segmentList","s","find","fetch","events","_","debounce","event","instance","segid","$","target","closest","data","findOne","_id","name","val","dscr","update","prop","Meteor","call"],"mappings":"AAAA,IAAIA,WAAJ;AAAgBC,OAAOC,KAAP,CAAaC,QAAQ,6CAAR,CAAb,EAAoE;AAACH,cAAYI,CAAZ,EAAc;AAACJ,kBAAYI,CAAZ;AAAc;;AAA9B,CAApE,EAAoG,CAApG;AAAuGH,OAAOC,KAAP,CAAaC,QAAQ,sBAAR,CAAb;AAGvHE,SAASC,aAAT,CAAuBC,SAAvB,CAAiC,YAAY;AACzC,OAAKC,OAAL,CAAc,MAAM;AAChB,SAAKC,YAAL,GAAoB,KAAKC,SAAL,CAAe,aAAf,EAA8B,KAAKC,MAAnC,EAA2C;AAC3DC,cAAQ,YAAY;AAChBC,gBAAQC,GAAR,CAAY,qCAAZ,EAAmDC,SAAnD,EAA8D,IAA9D;AACH,OAH0D;AAI3DC,eAAS,YAAY;AACjBH,gBAAQC,GAAR,CAAY,mCAAZ,EAAiDC,SAAjD,EAA4D,IAA5D;AACH;AAN0D,KAA3C,CAApB;AAQAF,YAAQC,GAAR,CAAY,KAAKL,YAAjB;AACH,GAVD;AAWH,CAZD;AAcAJ,SAASC,aAAT,CAAuBW,OAAvB,CAA+B;AAC3BC,gBAAc;AACV,QAAIC,IAAInB,YAAYoB,IAAZ,EAAR;AACA,WAAOD,EAAEE,KAAF,EAAP;AACH;;AAJ0B,CAA/B;AAOAhB,SAASC,aAAT,CAAuBgB,MAAvB,CAA8B;AAC1B,sBAAmBC,EAAEC,QAAF,CAAW,UAAUC,KAAV,EAAiBC,QAAjB,EAA2B;AACrD,QAAIC,QAAQC,EAAEH,MAAMI,MAAR,EAAgBC,OAAhB,CAAwB,cAAxB,EAAwCC,IAAxC,CAA6C,OAA7C,CAAZ;AACAlB,YAAQC,GAAR,CAAYa,KAAZ,EAAmBC,EAAEH,MAAMI,MAAR,EAAgBC,OAAhB,CAAwB,cAAxB,CAAnB;AACA,QAAIX,IAAInB,YAAYgC,OAAZ,CAAqB;AAACC,WAAIN;AAAL,KAArB,CAAR;AACA,QAAIO,OAAON,EAAE,eAAaD,KAAf,EAAsBQ,GAAtB,EAAX;AACA,QAAIC,OAAOR,EAAE,eAAaD,KAAf,EAAsBQ,GAAtB,EAAX;AACAhB,MAAEkB,MAAF,CAASH,IAAT,EAAeE,IAAf;AACH,GAPkB,EAOhB,IAPgB,CADO;AAS1B,qBAAkBb,EAAEC,QAAF,CAAW,UAAUC,KAAV,EAAiBC,QAAjB,EAA2B;AACpD,QAAIE,EAAE,eAAF,EAAmBO,GAAnB,OAA6B,EAAjC,EAAqC;AACjCP,QAAE,eAAF,EAAmBU,IAAnB,CAAwB,UAAxB,EAAoC,KAApC;AACH,KAFD,MAEO;AACHV,QAAE,eAAF,EAAmBU,IAAnB,CAAwB,UAAxB,EAAoC,IAApC;AACH;AACJ,GANiB,EAMf,IANe,CATQ;;AAgB1B,wBAAsBb,KAAtB,EAA6BC,QAA7B,EAAuC;AACnC,QAAIE,EAAE,eAAF,EAAmBO,GAAnB,OAA6B,EAAjC,EAAqC;AACjC,UAAID,OAAON,EAAE,eAAF,EAAmBO,GAAnB,EAAX;AACA,UAAIC,OAAOR,EAAE,eAAF,EAAmBO,GAAnB,EAAX;AACAI,aAAOC,IAAP,CAAY,0BAAZ,EAAwCN,IAAxC,EAA8CE,IAA9C;AACAR,QAAE,eAAF,EAAmBO,GAAnB,CAAuB,EAAvB;AACAP,QAAE,eAAF,EAAmBO,GAAnB,CAAuB,EAAvB;AACH;AACJ;;AAxByB,CAA9B","sourcesContent":["import { UserSegment } from '/imports/api/user_segments/user_segments.js';\nimport './user_segments.html';\n\nTemplate.user_segments.onCreated(function () {\n    this.autorun( () => {\n        this.subscription = this.subscribe('segmentList', this.userId, {\n            onStop: function () {\n                console.log(\"Segment List subscription stopped! \", arguments, this);\n            },\n            onReady: function () {\n                console.log(\"Segment List subscription ready! \", arguments, this);\n            }\n        });\n        console.log(this.subscription);\n    });\n});\n\nTemplate.user_segments.helpers({\n    segmentList() {\n        let s = UserSegment.find();\n        return s.fetch();\n    }\n});\n\nTemplate.user_segments.events({\n    'keyup input.edit':_.debounce(function (event, instance) {\n        let segid = $(event.target).closest(\"[data-segid]\").data(\"segid\");\n        console.log(segid, $(event.target).closest(\"[data-segid]\"));\n        let s = UserSegment.findOne( {_id:segid} );\n        let name = $(\"#seg-name-\"+segid).val();\n        let dscr = $(\"#seg-dscr-\"+segid).val();\n        s.update(name, dscr);\n    }, 2000),\n    'keyup input.new':_.debounce(function (event, instance) {\n        if ($(\"#seg-name-new\").val() !== \"\") {\n            $(\"#new-seg-save\").prop(\"disabled\", false);\n        } else {\n            $(\"#new-seg-save\").prop(\"disabled\", true);\n        }\n    }, 2000),\n    'click #new-seg-save'(event, instance) {\n        if ($(\"#seg-name-new\").val() !== \"\") {\n            let name = $(\"#seg-name-new\").val();\n            let dscr = $(\"#seg-dscr-new\").val();\n            Meteor.call('segment.createNewSegment', name, dscr);\n            $(\"#seg-name-new\").val(\"\");\n            $(\"#seg-dscr-new\").val(\"\");\n        }\n    }\n});\n"]},"sourceType":"script","hash":"e0cc4e343c3011f6bc0f7c7703698e60247b6710"}
