{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":true}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$4","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$5","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$6","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$7","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$9","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan\\imports\\ui\\pages\\learn_share_list\\learn_share_list.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"imports/ui/pages/learn_share_list/learn_share_list.js","filename":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan\\imports\\ui\\pages\\learn_share_list\\learn_share_list.js","passPerPreset":false,"envName":"development","cwd":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan","root":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan","generatorOpts":{"filename":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan\\imports\\ui\\pages\\learn_share_list\\learn_share_list.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/ui/pages/learn_share_list/learn_share_list.js"}},"code":"let LearnShareSession;\nmodule.watch(require(\"/imports/api/learn_share/learn_share.js\"), {\n  LearnShareSession(v) {\n    LearnShareSession = v;\n  }\n\n}, 0);\nlet Team;\nmodule.watch(require(\"/imports/api/teams/teams.js\"), {\n  Team(v) {\n    Team = v;\n  }\n\n}, 1);\nmodule.watch(require(\"./learn_share_list.html\"));\nTemplate.learn_share_list.onCreated(function () {\n  this.autorun(() => {\n    console.log(\"autorunning learn_share_list...\");\n    this.subscription = this.subscribe('userList', Meteor.userId(), {\n      onStop: function () {\n        console.log(\"User List subscription stopped! \", arguments, this);\n      },\n      onReady: function () {\n        console.log(\"User List subscription ready! \", arguments, this);\n      }\n    });\n    console.log(this.subscription);\n    this.subscription2 = this.subscribe('learnShareList', Meteor.userId(), {\n      onStop: function () {\n        console.log(\"LearnShare List subscription stopped! \", arguments, this);\n      },\n      onReady: function () {\n        console.log(\"LearnShare List subscription ready! \", arguments, this);\n      }\n    });\n    console.log(this.subscription2);\n    this.subscription3 = this.subscribe('teamsMemberOfList', Meteor.userId(), {\n      onStop: function () {\n        console.log(\"Team Member Of List subscription stopped! \", arguments, this);\n      },\n      onReady: function () {\n        console.log(\"Team Member Of List subscription ready! \", arguments, this);\n      }\n    });\n    console.log(this.subscription3);\n  });\n});\nTemplate.learn_share_list.helpers({\n  lsSessList(teamId) {\n    let lst = [];\n    let filter = {};\n\n    if (typeof teamId === \"string\" && teamId != \"\") {\n      filter.teamId = teamId;\n    } else {\n      filter.teamId = {\n        '$in': [null, '']\n      };\n    }\n\n    LearnShareSession.find(filter).forEach(function (sess) {\n      //sorting with { sort: {createdAt:-1} } had no effect, so unshift used to reverse order instead\n      lst.unshift(sess);\n    });\n    return lst;\n  },\n\n  hasSessions(teamId) {\n    let ls = LearnShareSession.find({\n      teamId: teamId\n    });\n\n    if (!ls || ls.count() == 0) {\n      return false;\n    } else {\n      return true;\n    }\n  },\n\n  teamList() {\n    //list of teams the user is a member of\n    let t = Team.find({\n      Members: Meteor.userId()\n    });\n\n    if (!t) {\n      return [];\n    }\n\n    let lst = t.fetch();\n    return lst;\n  }\n\n});\nTemplate.learn_share_list.events({\n  'click button#btn-create-new'(event, instance) {\n    Meteor.call('learnshare.createNewSession', $(\"#sess-title\").val(), $(\"#select-team\").val(), (error, result) => {\n      if (error) {\n        console.log(\"can't create new Learn/Share session\", error);\n      } else {\n        FlowRouter.go(\"/learnShare/\" + result);\n      }\n    });\n  }\n\n});","map":{"version":3,"sources":["imports/ui/pages/learn_share_list/learn_share_list.js"],"names":["LearnShareSession","module","watch","require","v","Team","Template","learn_share_list","onCreated","autorun","console","log","subscription","subscribe","Meteor","userId","onStop","arguments","onReady","subscription2","subscription3","helpers","lsSessList","teamId","lst","filter","find","forEach","sess","unshift","hasSessions","ls","count","teamList","t","Members","fetch","events","event","instance","call","$","val","error","result","FlowRouter","go"],"mappings":"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","sourcesContent":["import { LearnShareSession } from '/imports/api/learn_share/learn_share.js';\nimport { Team } from '/imports/api/teams/teams.js';\nimport './learn_share_list.html';\n\nTemplate.learn_share_list.onCreated( function () {\n    this.autorun( () => {\n        console.log(\"autorunning learn_share_list...\");\n        this.subscription = this.subscribe('userList', Meteor.userId(), {\n            onStop: function () {\n                console.log(\"User List subscription stopped! \", arguments, this);\n            },\n            onReady: function () {\n                console.log(\"User List subscription ready! \", arguments, this);\n            }\n        });\n        console.log(this.subscription);\n\n        this.subscription2 = this.subscribe('learnShareList', Meteor.userId(), {\n            onStop: function () {\n                console.log(\"LearnShare List subscription stopped! \", arguments, this);\n            },\n            onReady: function () {\n                console.log(\"LearnShare List subscription ready! \", arguments, this);\n            }\n        });\n        console.log(this.subscription2);\n\n        this.subscription3 = this.subscribe('teamsMemberOfList', Meteor.userId(), {\n            onStop: function () {\n                console.log(\"Team Member Of List subscription stopped! \", arguments, this);\n            },\n            onReady: function () {\n                console.log(\"Team Member Of List subscription ready! \", arguments, this);\n            }\n        });\n        console.log(this.subscription3);\n    });\n});\n\nTemplate.learn_share_list.helpers({\n    lsSessList(teamId) {\n        let lst = [];\n        let filter = {};\n        if (typeof teamId === \"string\" && teamId != \"\") {\n            filter.teamId = teamId;\n        } else {\n            filter.teamId = {'$in': [null,'']};\n        }\n        LearnShareSession.find( filter ).forEach(function (sess) {\n            //sorting with { sort: {createdAt:-1} } had no effect, so unshift used to reverse order instead\n            lst.unshift(sess);\n        });\n        return lst;\n    },\n    hasSessions(teamId) {\n        let ls = LearnShareSession.find( {teamId: teamId} );\n\n        if (!ls || ls.count() == 0) {\n            return false;\n        } else {\n            return true;\n        }\n    },\n    teamList() {\n        //list of teams the user is a member of\n        let t = Team.find( {Members: Meteor.userId()} );\n        if (!t) {\n            return [];\n        }\n        let lst = t.fetch();\n        return lst;\n    }\n});\n\nTemplate.learn_share_list.events({\n    'click button#btn-create-new'(event, instance) {\n        Meteor.call('learnshare.createNewSession', $(\"#sess-title\").val(), $(\"#select-team\").val(), (error, result) => {\n            if (error) {\n                console.log(\"can't create new Learn/Share session\", error);\n            } else {\n                FlowRouter.go(\"/learnShare/\"+result);\n            }\n        });\n    }\n});\n"]},"sourceType":"script","hash":"329009bc15983fcae07101fad3beb219360afe4c"}
