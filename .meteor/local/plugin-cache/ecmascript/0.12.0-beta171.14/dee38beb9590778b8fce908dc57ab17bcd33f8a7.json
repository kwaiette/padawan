{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan\\imports\\api\\type_readings\\type_readings.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"imports/api/type_readings/type_readings.js","filename":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan\\imports\\api\\type_readings\\type_readings.js","passPerPreset":false,"envName":"development","cwd":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan","root":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan","generatorOpts":{"filename":"C:\\Users\\wayne\\src\\kwaiette\\tmp\\padawan\\imports\\api\\type_readings\\type_readings.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/api/type_readings/type_readings.js"}},"code":"module.export({\n  TypeReading: function () {\n    return TypeReading;\n  },\n  ReadingRange: function () {\n    return ReadingRange;\n  },\n  TypeReadingCategory: function () {\n    return TypeReadingCategory;\n  },\n  TypeReadingCategories: function () {\n    return TypeReadingCategories;\n  }\n});\nvar Class;\nmodule.watch(require(\"meteor/jagi:astronomy\"), {\n  Class: function (v) {\n    Class = v;\n  }\n}, 0);\nvar check;\nmodule.watch(require(\"meteor/check\"), {\n  check: function (v) {\n    check = v;\n  }\n}, 1);\nvar Mongo;\nmodule.watch(require(\"meteor/mongo\"), {\n  Mongo: function (v) {\n    Mongo = v;\n  }\n}, 2);\nvar MyersBriggsCategory;\nmodule.watch(require(\"../questions/questions.js\"), {\n  MyersBriggsCategory: function (v) {\n    MyersBriggsCategory = v;\n  }\n}, 3);\nvar Category, CategoryManager;\nmodule.watch(require(\"../categories/categories.js\"), {\n  Category: function (v) {\n    Category = v;\n  },\n  CategoryManager: function (v) {\n    CategoryManager = v;\n  }\n}, 4);\nvar ReadingRange = Class.create({\n  name: \"ReadingRange\",\n  fields: {\n    high: {\n      type: Number,\n      \"default\": 50\n    },\n    low: {\n      type: Number,\n      \"default\": 0\n    },\n    Delta: {\n      type: Number,\n      \"default\": 50\n    }\n  },\n  helpers: {\n    \"in\": function (val) {\n      return this.low <= val && val <= this.high;\n    },\n    setDelta: function () {\n      this.Delta = this.high - this.low;\n      return this;\n    }\n  }\n});\n\nReadingRange.Create = function (high, low) {\n  var m = new ReadingRange();\n  m.high = high;\n  m.low = low;\n  return m.setDelta();\n};\n\nReadingRange.FullHigh = function () {\n  return ReadingRange.Create(50, 0);\n};\n\nReadingRange.FullLow = function () {\n  return ReadingRange.Create(0, -50);\n};\n\nvar TypeReadingCategory = Class.create({\n  name: \"TypeReadingCategory\",\n  fields: {\n    MyersBriggsCategory: {\n      type: MyersBriggsCategory\n    },\n    Range: {\n      type: ReadingRange,\n      \"default\": function () {\n        return ReadingRange.FullHigh;\n      }\n    }\n  }\n});\nvar TypeReadingCategories = Class.create({\n  name: \"TypeReadingCategories\",\n  fields: {\n    0: {\n      type: TypeReadingCategory,\n      optional: true\n    },\n    1: {\n      type: TypeReadingCategory,\n      optional: true\n    },\n    2: {\n      type: TypeReadingCategory,\n      optional: true\n    },\n    3: {\n      type: TypeReadingCategory,\n      optional: true\n    }\n  }\n});\nvar TypeReading = Class.create({\n  name: \"TypeReading\",\n  collection: new Mongo.Collection('type_readings'),\n  fields: {\n    TypeReadingCategories: {\n      type: TypeReadingCategories,\n      \"default\": {}\n    },\n    Categories: {\n      type: CategoryManager,\n      \"default\": function () {\n        return CategoryManager.OfType(\"TypeReading\");\n      }\n    },\n    Header: {\n      type: String,\n      \"default\": \"\"\n    },\n    Body: {\n      type: String,\n      \"default\": \"\"\n    },\n    CreatedBy: {\n      type: String,\n      \"default\": function () {\n        return Meteor.userId();\n      }\n    },\n    Enabled: {\n      type: Boolean,\n      \"default\": false\n    }\n  },\n  helpers: {\n    toggle: function () {\n      this.Enabled = !this.Enabled;\n      this.save();\n    },\n    addTypeCategory: function (cat) {\n      this.TypeReadingCategories[cat.MyersBriggsCategory] = cat;\n    }\n  },\n  events: {\n    beforeSave: function (e) {\n      _.forEach(e.target.TypeReadingCategories, function (reading) {\n        if (reading == null) {\n          return;\n        }\n\n        reading.Range.setDelta();\n      });\n\n      if (e.target.Categories.length() < 1) {\n        e.target.Categories.addCategory(Category.Default);\n      }\n    }\n  }\n});","map":{"version":3,"sources":["imports/api/type_readings/type_readings.js"],"names":["module","export","TypeReading","ReadingRange","TypeReadingCategory","TypeReadingCategories","Class","watch","require","v","check","Mongo","MyersBriggsCategory","Category","CategoryManager","create","name","fields","high","type","Number","low","Delta","helpers","val","setDelta","Create","m","FullHigh","FullLow","Range","optional","collection","Collection","Categories","OfType","Header","String","Body","CreatedBy","Meteor","userId","Enabled","Boolean","toggle","save","addTypeCategory","cat","events","beforeSave","e","_","forEach","target","reading","length","addCategory","Default"],"mappings":"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","sourcesContent":["import { Class } from 'meteor/jagi:astronomy';\nimport { check } from 'meteor/check';\nimport { Mongo } from 'meteor/mongo';\nimport { MyersBriggsCategory } from '../questions/questions.js';\nimport { Category, CategoryManager } from '../categories/categories.js';\n\nconst ReadingRange = Class.create({\n    name: \"ReadingRange\",\n    fields: {\n        high: {\n            type: Number,\n            default: 50\n        },\n        low: {\n            type: Number,\n            default: 0\n        },\n        Delta: {\n            type: Number,\n            default: 50\n        }\n    },\n    helpers: {\n        in(val) {\n            return this.low <= val && val <= this.high;\n        },\n        setDelta() {\n            this.Delta = this.high - this.low;\n            return this;\n        }\n    }\n});\nReadingRange.Create = function(high, low) {\n    let m = new ReadingRange();\n    m.high = high;\n    m.low = low;\n    return m.setDelta();\n}\nReadingRange.FullHigh = function () {\n    return ReadingRange.Create(50, 0);\n}\nReadingRange.FullLow = function () {\n    return ReadingRange.Create(0, -50);\n}\nconst TypeReadingCategory = Class.create({\n    name: \"TypeReadingCategory\",\n    fields: {\n        MyersBriggsCategory: {\n            type: MyersBriggsCategory\n        },\n        Range: {\n            type: ReadingRange,\n            default: function () {\n                return ReadingRange.FullHigh;\n            }\n        }\n    }\n});\nconst TypeReadingCategories = Class.create({\n    name: \"TypeReadingCategories\",\n    fields: {\n        0: {\n            type:TypeReadingCategory,\n            optional: true\n        },\n        1: {\n            type:TypeReadingCategory,\n            optional: true\n        },\n        2: {\n            type:TypeReadingCategory,\n            optional: true\n        },\n        3: {\n            type:TypeReadingCategory,\n            optional: true\n        }\n    }\n});\nconst TypeReading = Class.create({\n    name: \"TypeReading\",\n    collection: new Mongo.Collection('type_readings'),\n    fields: {\n        TypeReadingCategories: {\n            type: TypeReadingCategories,\n            default: {}\n        },\n        Categories: {\n            type: CategoryManager,\n            default: function () {\n                return CategoryManager.OfType(\"TypeReading\");\n            }\n        },\n        Header: {\n            type: String,\n            default: \"\"\n        },\n        Body: {\n            type: String,\n            default: \"\"\n        },\n        CreatedBy: {\n            type: String,\n            default: function() { return Meteor.userId(); }\n        },\n        Enabled: {\n            type: Boolean,\n            default: false\n        }\n    },\n    helpers: {\n        toggle() {\n            this.Enabled = !this.Enabled;\n            this.save();\n        },\n        addTypeCategory(cat) {\n            this.TypeReadingCategories[cat.MyersBriggsCategory] = cat;\n        }\n    },\n    events: {\n        beforeSave(e) {\n            _.forEach(e.target.TypeReadingCategories, (reading) => { \n                if(reading == null) { return; }\n                reading.Range.setDelta();\n            });\n            if(e.target.Categories.length() < 1) {\n                e.target.Categories.addCategory(Category.Default);\n            }\n        }\n    }\n});\n\nexport { TypeReading, ReadingRange, TypeReadingCategory, TypeReadingCategories };"]},"sourceType":"script","hash":"dee38beb9590778b8fce908dc57ab17bcd33f8a7"}
